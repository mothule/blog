---
title: Gitで先にPRやリモートブランチを用意する方法
categories: tools git
tags: tools git github
image:
  path: /assets/images/2020-02-03-tools-git-empty-commit.png
---

Gitで事前にPRやリモートブランチを用意する方法についてメモしました。

ニーズは少ないと感じる人もいるかもしれませんが、少し規模が大きかったり、チームメンバーが多かったりすると使う機会は増えてきます。

## どんなときに役立つか
`develop`ブランチや`master`ブランチをリリースのため凍結中は、それらにマージできませんよね。
その状態だと次バージョン対応で、Aさん対応済みAブランチ待ちのBさん対応中Bブランチがあったら作業を進められません。Bさんは作業を進められません。
その場合は事前に集約ブランチを用意しておき、ここを作業ブランチとして扱えば、AブランチとBブランチをマージできるので、Bさんは作業を進められます。

このとき、集約ブランチは空コミットでリモートブランチを用意しなければなりません。  
GitHub上であれば作成できますが、集約ブランチのPRも用意となるとコミット差がないためPRは作成できませんね。

そんなときに役に立つのが空コミットです。

ローカルでブランチを作成、空コミット、プッシュとすればリモートブランチが作成されますし、
PRも作成することができます。

## やり方

コミットコマンドに `--allo-empty` オプションをつけるだけです。

```sh
$ git commit --allow-empty -m "コメント"
```

以上です。
